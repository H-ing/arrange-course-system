webpackJsonp([5],{"89SB":function(t,e){},p2Td:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("7t+N"),r=a.n(l),s={components:{},props:{},data:function(){return{addShow:!0,form:{taskName:"",grade:"高一",classCategory:"行政班",teachData:[{subject:"人数",Chinese:"173",Math:"500",English:"55",Physics:"752",Chemistry:"130",Biology:"50",Geography:"200",History:"150",sum:""}],studentData:[{subject:"人数",Chinese:"173",Math:"260",English:"55",Physics:"52",Chemistry:"30",Biology:"50",Geography:"00",History:"10",sum:""}],miniNums:"",maxNums:"",timeTable:[{section:"第1节课",time:{startTime:"07:00",endTime:"07:40"}}]}}},watch:{},computed:{taskLists:function(){return this.$store.state.taskLists}},methods:{getSum:function(t){var e=[];for(var a in t)e.push(parseInt(t[a]));e.pop(e.length-1),e.shift(1);var l=e.reduce(function(t,e){return t+e},0);t.sum=l;for(var s=r()("tbody").eq(2).find("tr"),i=0;i<s.length-1;i++)r()("tbody:eq(2) tr:eq("+i+") .cell:eq(2)").css("visibility","hidden")},goBack:function(){this.$router.go(-1)},deleteRow:function(t,e){e.splice(t,1);var a=r()(".time-table").find("tr").length-2;r()(".time-table tr:eq("+a+") .cell:eq(2)").css("visibility","visible")},addTime:function(t,e){var a=t.split(":"),l=parseInt(a[0]),r=parseInt(a[1])+e;if(r>=60){var s=r-60;r=s,s<60&&(l+=1)}return 1==l.toString().length&&(l="0"+l),1==r.toString().length&&(r="0"+r),l>=22&&r>=30?t:[l,r].join(":")},addTimeRow:function(){var t=r()(".time-table").find("tr").length-1,e=this.form.timeTable[t-1].time.endTime,a=this.addTime(e,55),l=this.addTime(a,45);if(a==e)alert("已超过最大时间，不能继续添加"),this.addShow=!1;else{var s={section:"第"+(t+1)+"节课",time:{startTime:a,endTime:l}};this.form.timeTable.push(s)}},submitForm:function(t,e){var a=this;0==this.$store.state.taskLists.filter(function(t){return t.taskName==e.taskName}).length?a.$store.commit("SET_List",e):a.$store.commit("UPDATE_List",e),a.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;a.$router.push({path:"@/components/rulesStage/RuleOneStage",name:"ruleOneStage",query:{form:a.form}})})}},created:function(){},mounted:function(){var t=this.$route.query,e=this.form.studentData[0],a=this.form.teachData[0];this.getSum(e),this.getSum(a);var l=this.$store.state.taskLists.filter(function(e){return e.taskName==t.taskName});0==l.length||(this.form=l[0]),this.form.taskName=t.taskName},updated:function(){}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"s-main"},[a("el-page-header",{staticClass:"back-head",attrs:{content:"设置分班规则"},on:{back:t.goBack}}),t._v(" "),a("div",{staticClass:"s-form"},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:t.form,"label-width":"180px","label-position":"right"}},[a("el-form-item",{attrs:{label:"任务名称"}},[a("span",{staticClass:"task-name"},[t._v(t._s(t.form.taskName))])]),t._v(" "),a("el-form-item",{attrs:{label:"年级"}},[a("el-radio-group",{model:{value:t.form.grade,callback:function(e){t.$set(t.form,"grade",e)},expression:"form.grade"}},[a("el-radio",{attrs:{label:"高一"}}),t._v(" "),a("el-radio",{attrs:{label:"高二"}}),t._v(" "),a("el-radio",{attrs:{label:"高三"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"班类"}},[a("el-radio-group",{model:{value:t.form.classCategory,callback:function(e){t.$set(t.form,"classCategory",e)},expression:"form.classCategory"}},[a("el-radio",{attrs:{label:"行政班"}}),t._v(" "),a("el-radio",{attrs:{label:"教学班"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"学生选科人数"}},[a("el-table",{staticClass:"st-table",attrs:{data:t.form.studentData,border:"",size:"mini",id:"st-table","header-cell-style":{background:"#eef1f6",color:"#606266"}},model:{value:t.form.studentData,callback:function(e){t.$set(t.form,"studentData",e)},expression:"form.studentData"}},[a("el-table-column",{attrs:{prop:"subject",label:"科目",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Chinese",label:"语文",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Math",label:"数学",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"English",label:"英语",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Physics",label:"物理",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Chemistry",label:"化学",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Biology",label:"生物",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Geography",label:"地理",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"History",label:"历史",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sum",label:"总计",align:"center",width:"80px"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"老师科目人数"}},[a("el-table",{staticClass:"st-table",attrs:{data:t.form.teachData,border:"",size:"mini",id:"st-table","header-cell-style":{background:"#eef1f6",color:"#606266"}},model:{value:t.form.teachData,callback:function(e){t.$set(t.form,"teachData",e)},expression:"form.teachData"}},[a("el-table-column",{attrs:{prop:"subject",label:"科目",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Chinese",label:"语文",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Math",label:"数学",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"English",label:"英语",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Physics",label:"物理",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Chemistry",label:"化学",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Biology",label:"生物",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Geography",label:"地理",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"History",label:"历史",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sum",label:"总计",align:"center",width:"80px"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"班级最少人数",prop:"miniNums",rules:[{required:!0,message:"该空不能为空"},{type:"number",message:"该空必须为数字值"}]}},[a("el-input",{staticClass:"input",staticStyle:{width:"200px"},attrs:{type:"text",autocomplete:"off",maxlength:"3",placeholder:"请输入数字"},model:{value:t.form.miniNums,callback:function(e){t.$set(t.form,"miniNums",t._n(e))},expression:"form.miniNums"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"班级最多人数",prop:"maxNums",rules:[{required:!0,message:"该空不能为空"},{type:"number",message:"该空必须为数字值"}]}},[a("el-input",{staticClass:"input",staticStyle:{width:"200px"},attrs:{type:"text",autocomplete:"off",maxlength:"3",placeholder:"请输入数字"},model:{value:t.form.maxNums,callback:function(e){t.$set(t.form,"maxNums",t._n(e))},expression:"form.maxNums"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"save"},[t._v("保存")]),t._v(" "),a("el-button",{staticClass:"sub",attrs:{type:"primary"},on:{click:function(e){return t.submitForm("form",t.form)}}},[t._v("开始分班")])],1)],1)],1)],1)},staticRenderFns:[]};var o=a("VU/8")(s,i,!1,function(t){a("89SB")},"data-v-cacf1068",null);e.default=o.exports}});
//# sourceMappingURL=5.7ced802989149216c0c4.js.map